#include "FocalInfo.h"
#include <iostream>
#include <fstream>

int main(int argc, char* argv[]) {
	/* check #params */
	if( argc!=3 ) {
		std::cerr<<"Usage: "<<argv[0]<<" [PostD_in] [PostD_out]"<<std::endl;
		exit(-1);
	}

	std::ifstream fin(argv[1]);
	std::ofstream fout(argv[2]);
	if( !fin || !fout ) {
		std::cerr<<"fstream failed!"<<std::endl;
		exit(-2);
	}
	for(std::string line; std::getline(fin, line); ) {
		float c1,c2,stk1,dip1,rak1,dep1,c7,c8,c9,c10;
		float stk2,dip2,rak2,dep2;
		sscanf(line.c_str(), "%f %f %f %f %f %f %f %f %f %f", &c1,&c2,&stk1,&dip1,&rak1,&dep1,&c7,&c8,&c9,&c10);
		FocalInfo<float> finfo( stk1, dip1, rak1, dep1 );
		finfo.Auxiliary();
		fout<<c1<<" "<<c2<<" "<<finfo<<" "<<c7<<" "<<c8<<" "<<c9<<" "<<c10<<std::endl;
	}

	return 0;
}
