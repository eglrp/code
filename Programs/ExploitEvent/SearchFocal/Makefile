BIN = SourceChar

OBJS = SourceChar.o FocalSearcher.o

VPATH_Rad = RadPatternR_src

FC = gfortran

CC = g++

cflags = -std=c++0x -O3 -fopenmp

fflags = -e -g -ffixed-line-length-132 -fopenmp

ldlibs = -lstdc++ -fopenmp -lX11 -lm
# -lmath -lev -lio -lmap
OBJS_Rad = $(VPATH_Rad)/rad_pattern4_Rayl.o $(VPATH_Rad)/source.o $(VPATH_Rad)/surfread.o \
       $(VPATH_Rad)/angles2tensor.o $(VPATH_Rad)/pha.o $(VPATH_Rad)/new_unwrap.o



$(BIN) : $(OBJS) $(OBJS_Rad)
	$(FC) $^ -o $@ $(ldlibs)

$(VPATH_Rad)/%.o : $(VPATH_Rad)/%.f
	$(FC) $(fflags) -c $< -o $@

%.o : %.cpp
	$(CC) $(cflags) -c $< -o $@


clean :
	rm -f $(BIN) $(OBJS) $(OBJS_Rad)

